<p-card header="Search users" subheader="Here you can find users by first and last name">
    <form [formGroup]="searchUsersForm" class="mb-3">
        <div class="flex gap-3 flex-row">
            <div class="flex flex-column">
                <label for="firstName">First Name</label>
                <input pInputText id="firstName" aria-describedby="firstName-help" formControlName="firstName"/>
                <div class="warning-message">
                    <small *ngIf="
            searchUsersForm.get('firstName')?.touched
            &&
            searchUsersForm.get('firstName')?.errors?.['required']" id="firstName-help" class="text-red-700">First Name is required!</small>
                </div>
            </div>

            <div class="flex flex-column">
                <label for="lastName">Last Name</label>
                <input pInputText id="lastName" aria-describedby="lastName-help" formControlName="lastName"/>
                <small *ngIf="
            searchUsersForm.get('lastName')?.touched
            &&
            searchUsersForm.get('lastName')?.errors?.['required']" id="lastName-help" class="text-red-700">Last Name is required!</small>
            </div>
            <div class="flex align-content-end flex-wrap">
                <p-button [disabled]="!searchUsersForm.valid" label="Search" (click)="fetchUsers()"></p-button>
            </div>
        </div>

    </form>

    <p-table [value]="getUsers()" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.firstName }}</td>
                <td>{{ user.lastName }}</td>
                <td>{{ user.email }}</td>
            </tr>
        </ng-template>
    </p-table>


</p-card>
